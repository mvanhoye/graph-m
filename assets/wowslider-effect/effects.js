// stack 
// options.revers - change the direction of transition
// options.fadeOut - fade out old image
function ws_stack(a,n,g){var d=jQuery,q=d(this),r=d("li",g),p=d("<div>").addClass("ws_effect ws_stack").css({position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"hidden"}).appendTo(g);this.go=function(e,l,b){var f=(a.revers?1:-1)*g.width();r.each(function(a){b&&a!=l&&(this.style.zIndex=Math.max(0,this.style.zIndex-1))});var c=d(".ws_list",g),h=d("<div>").css({position:"absolute",left:0,top:0,width:"100%",height:"100%",overflow:"hidden",zIndex:4}).append(d(n.get(b?e:l)).clone()),k=
d("<div>").css({position:"absolute",left:0,top:0,width:"100%",height:"100%",overflow:"hidden",zIndex:4}).append(d(n.get(b?l:e)).clone());3>a.responsive&&(h.find("img").css("width","100%"),k.find("img").css("width","100%"));b?(k.appendTo(p),h.appendTo(p)):(h.insertAfter(c),k.insertAfter(c));b?a.fadeOut&&c.fadeOut(a.duration):(c.stop(!0,!0).hide().css({left:-e+"00%"}),a.fadeOut?c.fadeIn(a.duration):c.show());e={left:b?f:0};var c={left:b?0:.5*-f},f={left:b?0:f},m={left:(b?1:0)*g.width()*.5};a.support.transform&&
(e={translate:[e.left,0,0]},c={translate:[c.left,0,0]},f={translate:[f.left,0,0]},m={translate:[m.left,0,0]});wowAnimate(h,e,f,a.duration,a.duration*(b?0:.1),"easeInOutExpo",function(){q.trigger("effectEnd");h.remove();k.remove()});wowAnimate(k,c,m,a.duration,a.duration*(b?.1:0),"easeInOutExpo")}};
